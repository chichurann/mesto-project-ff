(()=>{"use strict";var e={543:e=>{e.exports="https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},240:e=>{e.exports="https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"},567:e=>{e.exports="https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},320:e=>{e.exports="https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},355:e=>{e.exports="https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},205:e=>{e.exports="https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}r.m=e,r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.b=document.baseURI||self.location.href;var n=[{name:"Архыз",link:new URL(r(543),r.b)},{name:"Челябинская область",link:new URL(r(567),r.b)},{name:"Иваново",link:new URL(r(320),r.b)},{name:"Камчатка",link:new URL(r(355),r.b)},{name:"Холмогорский район",link:new URL(r(205),r.b)},{name:"Байкал",link:new URL(r(240),r.b)}];function o(e){e.classList.add("popup_is-opened"),e.classList.add("popup_is-animated"),e.classList.remove("popup_is-closed"),document.addEventListener("keydown",u)}function c(e){e.classList.remove("popup_is-opened"),e.classList.add("popup_is-closed"),document.removeEventListener("keydown",u)}function u(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function i(e){e.target.classList.contains("popup_is-opened")&&c(e.target)}var a=document.querySelector("#card-template").content;function s(e,t,r,n){var o=a.querySelector(".places__item").cloneNode(!0),c=o.querySelector(".card__image"),u=o.querySelector(".card__title"),i=o.querySelector(".card__like-button"),s=o.querySelector(".card__delete-button");return c.src=e.link,c.alt=e.name,u.textContent=e.name,c.addEventListener("click",(function(){n(e)})),s.addEventListener("click",(function(){t(o)})),i.addEventListener("click",(function(){r(i)})),o}function p(e){e.remove()}function l(e){e.classList.toggle("card__like-button_is-active")}var d,_=function(e){return e.some((function(e){return!e.validity.valid}))},m=function(e,t,r){_(e)?(t.classList.add(r),t.disabled=!0):(t.classList.remove(r),t.disabled=!1)},v=function(e,t,r){var n=e.querySelector(".".concat(t.name,"-error"));n&&(t.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass),n.textContent="")},y=function(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);r.forEach((function(r){v(e,r,t)})),m(r,n,t.inactiveButtonClass)},f={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"};function S(e){var t=document.querySelector(".popup_type_image"),r=t.querySelector(".popup__image"),n=t.querySelector(".popup__caption");r.src=e.link,r.alt=e.name,n.textContent=e.name,o(t)}d=f,Array.from(document.querySelectorAll(d.formSelector)).forEach((function(e){var t=Array.from(e.querySelectorAll(d.inputSelector)),r=e.querySelector(d.submitButtonSelector);m(t,r,d.inactiveButtonClass),t.forEach((function(n){n.addEventListener("input",(function(){!function(e,t,r){var n=t.dataset.errorMessage;t.validity.patternMismatch?t.setCustomValidity(n):t.setCustomValidity(""),t.validity.valid?v(e,t,r):function(e,t,r,n){var o=e.querySelector(".".concat(t.name,"-error"));o&&(t.classList.add(r.inputErrorClass),o.classList.add(r.errorClass),o.textContent=n)}(e,t,r,t.validationMessage)}(e,n,d),m(t,r,d.inactiveButtonClass)}))}))})),document.addEventListener("DOMContentLoaded",(function(){var e,t,r,u,a,d,v,q,L,b,k,C,E,x;e=document.querySelector(".profile__edit-button"),t=document.querySelector(".profile__add-button"),r=document.querySelectorAll(".popup__close"),u=document.querySelectorAll(".popup"),a=document.querySelector(".popup_type_edit"),d=document.querySelector(".popup_type_new-card"),v=document.querySelector(".profile__title"),q=document.querySelector(".profile__description"),L=a.querySelector(".popup__form"),b=d.querySelector(".popup__form"),k=L.querySelector(".popup__input_type_name"),C=L.querySelector(".popup__input_type_description"),E=b.querySelector(".popup__input_type_name"),x=b.querySelector(".popup__input_type_url"),e.addEventListener("click",(function(){k.value=v.textContent,C.value=q.textContent,y(L,f),o(a)})),t.addEventListener("click",(function(){b.reset(),y(b,f),o(d);var e=b.querySelector(f.submitButtonSelector);m([E,x],e,f.inactiveButtonClass)})),r.forEach((function(e){e.addEventListener("click",(function(e){c(e.target.closest(".popup"))}))})),u.forEach((function(e){e.addEventListener("click",i)})),L.addEventListener("submit",(function(e){e.preventDefault();var t=k.value,r=C.value;v.textContent=t,q.textContent=r,c(a)})),b.addEventListener("submit",(function(e){e.preventDefault();var t=s({name:E.value,link:x.value},p,l,S);document.querySelector(".places__list").prepend(t),b.reset();var r=b.querySelector(f.submitButtonSelector);m([E,x],r,f.inactiveButtonClass),c(d)})),[k,C].forEach((function(e){e.addEventListener("input",(function(){var e,t,r;e=L,t=Array.from(e.querySelectorAll(f.inputSelector)),r=e.querySelector(f.submitButtonSelector),_(t),m(t,r,f.inactiveButtonClass)}))})),function(e,t){var r=document.querySelector(".places__list");e.forEach((function(e){var n=s(e,p,l,t);r.appendChild(n)}))}(n,S)}))})();